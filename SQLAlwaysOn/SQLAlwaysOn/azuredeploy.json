{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "deploymentAffix": {
      "type": "string",
      "metadata": {
        "description": "Deployment Affix"
      },
      "value": "stephneo"
    },
    "domainName": {
      "type": "string",
      "metadata": {
        "description": "The FQDN of the AD Domain created "
      },
      "value": "stephneo.com"
    },
    "adminUsername": {
      "type": "string",
      "metadata": {
        "description": "The name of the Administrator of the new VMs and Domain"
      }
    },
    "adminPassword": {
      "type": "securestring",
      "metadata": {
        "description": "The password for the Administrator account of the new VMs and Domain"
      }
    },
    "adVMSize": {
      "type": "string",
      "metadata": {
        "description": "The size of the AD VMs Created"
      }
    },
    "sqlVMSize": {
      "type": "string",
      "metadata": {
        "description": "The size of the SQL VMs Created"
      }
    },
    "witnessVMSize": {
      "type": "string",
      "metadata": {
        "description": "The size of the Witness VM Created"
      }
    },
    "commonVMSize": {
      "type": "string",
      "metadata": {
        "description": "The common size of the VM"
      }
    },
    "sqlServerServiceAccountUserName": {
      "type": "string",
      "metadata": {
        "description": "The SQL Server Service account name"
      }
    },
    "sqlServerServiceAccountPassword": {
      "type": "securestring",
      "metadata": {
        "description": "The SQL Server Service account password"
      }
    },
    "sqlStorageAccountType": {
      "type": "string",
      "metadata": {
        "description": "The type of the Sql Server Storage Account created"
      }
    },
    "commonStorageAccountType": {
      "type": "string",
      "metadata": {
        "description": "The type of the commmon Storage Account created"
      }
    },
    "virtualNetworkAddressRange": {
      "type": "string",
      "metadata": {
        "description": "The address range of the new VNET in CIDR format"
      },
      "defaultValue": "172.16.140.0/22"
    },
    "DMZSubnet": {
      "type": "string",
      "metadata": {
        "description": "The address range of the subnet static IPs are allocated from in the DMZ"
      },
      "defaultValue": "172.16.140.0/27"
    },
    "TRZSubnet": {
      "type": "string",
      "metadata": {
        "description": "The address range of the subnet static IPs are allocated from in the TRZ"
      },
      "defaultValue": "172.16.141.0/27"
    },
    "arr1NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the ARR 1"
      },
      "defaultValue": "172.16.140.5"
    },
    "arr2NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the ARR 2"
      },
      "defaultValue": "172.16.140.6"
    },
    "iis1NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the IIS 1"
      },
      "defaultValue": "172.16.141.5"
    },
    "iis2NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the IIS 2"
      },
      "defaultValue": "172.16.141.6"
    },
    "mmq1NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the MMQ 1"
      },
      "defaultValue": "172.16.141.13"
    },
    "mmq2NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the MMQ 2"
      },
      "defaultValue": "172.16.141.19"
    },
    "app1NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the APP 1"
      },
      "defaultValue": "172.16.141.20"
    },
    "app2NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the APP 2"
      },
      "defaultValue": "172.16.141.21"
    },
    "sql1NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the SQL 1"
      },
      "defaultValue": "172.16.141.15"
    },
    "sql2NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the SQL 2"
      },
      "defaultValue": "172.16.141.17"
    },
    "sqlwNICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the SQL witness"
      },
      "defaultValue": "172.16.141.18"
    },
    "rsp1NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the RSP 1"
      },
      "defaultValue": "172.16.141.10"
    },
    "rsp2NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the RSP 2"
      },
      "defaultValue": "172.16.141.12"
    },
    "tsk1NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the TSK 1"
      },
      "defaultValue": "172.16.141.8"
    },
    "tsk2NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the TSK 2"
      },
      "defaultValue": "172.16.141.9"
    },
    "adPDCNICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the PDC"
      },
      "defaultValue": "172.16.141.4"
    },
    "adBDCNICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the BDC"
      },
      "defaultValue": "172.16.141.7"
    },
    "adm1NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the ADM 1"
      },
      "defaultValue": "172.16.141.11"
    },
    "adm2NICIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the ADM 2"
      },
      "defaultValue": "172.16.141.16"
    },
    "sqlLBIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the SQL ILB"
      },
      "defaultValue": "172.16.141.30"
    },
    "mmqLBIPAddress": {
      "type": "string",
      "metadata": {
        "description": "The IP address of the MMQ ILB"
      },
      "defaultValue": "172.16.141.28"
    },
    "templatesBaseUrl": {
      "type": "string",
      "metadata": {
        "description": "Templates base url"
      },
      "defaultValue": "https://jsonarmtemplates.blob.core.windows.net/templates"
    },
    "dscExtensionsBaseUrl": {
      "type": "string",
      "metadata": {
        "description": "Dsc extensions base url"
      },
      "defaultValue": "https://jsonarmtemplates.blob.core.windows.net/dscextensions"
    },
    "autoPatchingDay": {
      "type": "string",
      "metadata": {
        "description": "The day of a week for auto patching"
      }
    },
    "autoPatchingStartHour": {
      "type": "string",
      "metadata": {
        "description": "The start hour of a day for auto patching"
      }
    },
    "sqlServerVersion": {
      "type": "string",
      "metadata": {
        "description": "The Sql Server Version"
      }
    },
    "numberOfSqlVMDisks": {
      "type": "string",
      "metadata": {
        "description": "The Sql VM Disk Size"
      }
    },
    "workloadType": {
      "type": "string",
      "metadata": {
        "description": "The Sql VM work load type"
      }
    }
  },
  "variables": {
    "apiVersion": "2015-01-01",
    "configuration": {
      "AvailabilitySetsTemplateURL": "[concat(parameters('templatesBaseURL'),'/AvailabilitySets.json')]",
      "StorageAccountsTemplateURL": "[concat(parameters('templatesBaseURL'),'/StorageAccounts.json')]",
      "VirtualNetworkTemplateURL": "[concat(parameters('templatesBaseURL'),'/VirtualNetwork.json')]",
      "PublicIPsTemplateURL": "[concat(parameters('templatesBaseURL'),'/PublicIPs.json')]",
      "LoadBalancersTemplateURL": "[concat(parameters('templatesBaseURL'),'/LoadBalancers.json')]",
      "NetworkInterfacePDCTemplateURL": "[concat(parameters('templatesBaseURL'),'/NetworkInterfacePDC.json')]",
      "NetworkInterfaceBDCTemplateURL": "[concat(parameters('templatesBaseURL'),'/NetworkInterfaceBDC.json')]",
      "NetworkInterfaceVMsTemplateURL": "[concat(parameters('templatesBaseURL'),'/NetworkInterfaceVMs.json')]",
      "VirtualMachineDCTemplateURL": "[concat(parameters('templatesBaseURL'),'/VirtualMachineDC.json')]",
      "VirtualMachineVMsTemplateURL": "[concat(parameters('templatesBaseURL'),'/VirtualMachineVMs.json')]",
      "VNetDNSServerTemplateURL": "[concat(parameters('templatesBaseUrl'),'/VNetDNSServer.json')]",
      "JoinDomainVMsTemplateURL": "[concat(parameters('templatesBaseUrl'),'/JoinDomainVMs.json')]",
      "DSCConfigPDCTemplateURL": "[concat(parameters('templatesBaseUrl'),'/DSCConfigPDC.json')]",
      "DSCConfigBDCTemplateURL": "[concat(parameters('templatesBaseUrl'),'/DSCConfigBDC.json')]",
      "DSCConfigSQLAlwaysOnPrepareTemplateURL": "[concat(parameters('templatesBaseUrl'),'/DSCConfigSQLAlwaysOnPrepare.json')]",
      "DSCConfigSQLAlwaysOnFinalizeTemplateURL": "[concat(parameters('templatesBaseUrl'),'/DSCConfigSQLAlwaysOnFinalize.json')]",
      "adPDCModulesURL": "[concat(parameters('dscExtensionsBaseUrl'),'/CreateADPDC.ps1.zip')]",
      "adPDCConfigurationFunction": "CreateADPDC.ps1\\CreateADPDC",
      "adBDCModulesURL": "[concat(parameters('dscExtensionsBaseUrl'),'/CreateADBDC.ps1.zip')]",
      "adBDCConfigurationFunction": "CreateADBDC.ps1\\CreateADBDC",
      "fswModulesURL": "[concat(parameters('dscExtensionsBaseUrl'),'/CreateFileShareWitness.ps1.zip')]",
      "fswConfigurationFunction": "CreateFileShareWitness.ps1\\CreateFileShareWitness",
      "sqlAOPrepareModulesURL": "[concat(parameters('dscExtensionsBaseUrl'),'/PrepareAlwaysOnSqlServer.ps1.zip')]",
      "sqlAOPrepareConfigurationFunction": "PrepareAlwaysOnSqlServer.ps1\\PrepareAlwaysOnSqlServer",
      "createClusterModulesURL": "[concat(parameters('dscExtensionsBaseUrl'),'/CreateFailoverCluster.ps1.zip')]",
      "createClusterConfigurationFunction": "CreateFailoverCluster.ps1\\CreateFailoverCluster"
    },
    "lbSettings": {
      "arrLBFE": "[concat('BFE', parameters('deploymentAffix'),'ARR001')]",
      "sqlLBFE": "[concat('BFE', parameters('deploymentAffix'),'SQL001')]",
      "mmqLBFE": "[concat('BFE', parameters('deploymentAffix'),'MMQ001')]",
      "arrLBBE": "[concat('BBE', parameters('deploymentAffix'),'ARR001')]",
      "sqlLBBE": "[concat('BBE', parameters('deploymentAffix'),'SQL001')]",
      "mmqLBBE": "[concat('BBE', parameters('deploymentAffix'),'MMQ001')]",
      "arrLBName": "[concat('LB', parameters('deploymentAffix'),'ARR001')]",
      "sqlLBName": "[concat('LB', parameters('deploymentAffix'),'SQL001')]",
      "mmqLBName": "[concat('LB', parameters('deploymentAffix'),'MMQ001')]"
    },
    "virtualNetworkName": "[concat('VNET', parameters('deploymentAffix'))]",
    "storageAccountNamePrefix": "[concat('sa',toLower(parameters('deploymentAffix')))]",
    "storageNamePrefix": "[variables('storageAccountNamePrefix')]",
    "subnetNames": {
      "TRZSubnetName": "[concat('TRZ', parameters('deploymentAffix'),'Subnet')]",
      "DMZSubnetName": "[concat('DMZ', parameters('deploymentAffix'),'Subnet')]"
    },
    "subnets": [
      {
        "name": "[variables('subnetNames').DMZSubnetName]",
        "properties": {
          "addressPrefix": "[parameters('DMZSubnet')]"
        }
      },
      {
        "name": "[variables('subnetNames').TRZSubnetName]",
        "properties": {
          "addressPrefix": "[parameters('TRZSubnet')]"
        }
      }
    ],
    "PIPAddressNames": {
      "PIPArrAddressName": "[concat('PIP', parameters('deploymentAffix'),'ARR001')]",
      "PIPAdm1AddressName": "[concat('PIP', parameters('deploymentAffix'),'ADM001')]",
      "PIPAdm2AddressName": "[concat('PIP', parameters('deploymentAffix'),'ADM002')]",
      "PIPGWAddressName": "[concat('PIP', parameters('deploymentAffix'),'GW001')]"
    },
    "sqlAOLBName": "[concat('LB', parameters('deploymentAffix'),'SQL001')]",
    "sqlAOAGName": "[concat('SQLAO', parameters('deploymentAffix'),'AG')]",
    "sqlAOListenerPort": "1433",
    "sqlAOListenerName": "[concat('SQLAO', parameters('deploymentAffix'),'Listener')]",
    "vmSettings": {
      "availabilitySets": {
        "arrAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'ARR001')]",
        "iisAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'IIS001')]",
        "mmqAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'MMQ001')]",
        "appAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'APP001')]",
        "sqlAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'SQL001')]",
        "rspAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'RSP001')]",
        "tskAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'TSK001')]",
        "dcwAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'DCW001')]",
        "admAvailabilitySetName": "[concat('AS', parameters('deploymentAffix'),'ADM001')]"
      },
      "noOfSqlVMs": 2,
      "vmContainerName": "vhds",
      "arrVMName": "[concat('S', parameters('deploymentAffix'),'ARR00')]",
      "iisVMName": "[concat('S', parameters('deploymentAffix'),'IIS00')]",
      "mmqVMName": "[concat('S', parameters('deploymentAffix'),'MMQ00')]",
      "appVMName": "[concat('S', parameters('deploymentAffix'),'APP00')]",
      "sqlVMName": "[concat('S', parameters('deploymentAffix'),'SQL00')]",
      "sqlwVMName": "[concat('S', parameters('deploymentAffix'),'WIT001')]",
      "rspVMName": "[concat('S', parameters('deploymentAffix'),'RSP00')]",
      "tskVMName": "[concat('S', parameters('deploymentAffix'),'TSK00')]",
      "adPDCVMName": "[concat('S', parameters('deploymentAffix'),'DCW001')]",
      "adBDCVMName": "[concat('S', parameters('deploymentAffix'),'DCW002')]",
      "admVMName": "[concat('S', parameters('deploymentAffix'),'ADM00')]",
      "windowsImagePublisher": "MicrosoftWindowsServer",
      "windowsImageOffer": "WindowsServer",
      "windowsImageSKU": "2012-R2-Datacenter",
      "sqlImagePublisher": "MicrosoftSQLServer",
      "sqlImageOffer": "[parameters('sqlServerVersion')]",
      "rdpPort": 3389,
      "windowsDiskSize": 128,
      "sqlDiskSize": 1000
    },
    "sqlAOEPName": "[concat('C', parameters('deploymentAffix'),'-hadr')]",
    "sharePath": "[concat('C', parameters('deploymentAffix'),'-fsw')]",
    "clusterName": "[concat('C', parameters('deploymentAffix'),'SQL001')]",
    "arr1NicName": "[concat(variables('vmSettings').arrVMName,'1-nic')]",
    "arr2NicName": "[concat(variables('vmSettings').arrVMName,'2-nic')]",
    "iis1NicName": "[concat(variables('vmSettings').iisVMName,'1-nic')]",
    "iis2NicName": "[concat(variables('vmSettings').iisVMName,'2-nic')]",
    "mmq1NicName": "[concat(variables('vmSettings').mmqVMName,'1-nic')]",
    "mmq2NicName": "[concat(variables('vmSettings').mmqVMName,'2-nic')]",
    "app1NicName": "[concat(variables('vmSettings').appVMName,'1-nic')]",
    "app2NicName": "[concat(variables('vmSettings').appVMName,'2-nic')]",
    "sqlwNicName": "[concat(variables('vmSettings').sqlwVMName,'-nic')]",
    "sql1NicName": "[concat(variables('vmSettings').sqlVMName,'1-nic')]",
    "sql2NicName": "[concat(variables('vmSettings').sqlVMName,'2-nic')]",
    "rsp1NicName": "[concat(variables('vmSettings').rspVMName,'1-nic')]",
    "rsp2NicName": "[concat(variables('vmSettings').rspVMName,'2-nic')]",
    "tsk1NicName": "[concat(variables('vmSettings').tskVMName,'1-nic')]",
    "tsk2NicName": "[concat(variables('vmSettings').tskVMName,'2-nic')]",
    "adPDCNicName": "[concat(variables('vmSettings').adPDCVMName,'-nic')]",
    "adBDCNicName": "[concat(variables('vmSettings').adBDCVMName,'-nic')]",
    "adm1NicName": "[concat(variables('vmSettings').admVMName,'1-nic')]",
    "adm2NicName": "[concat(variables('vmSettings').admVMName,'2-nic')]",
    "VnetID": "[resourceId('Microsoft.Network/virtualNetworks', variables('virtualNetworkName'))]",
    "DMZSubnetRef": "[concat(variables('VnetID'),'/subnets/',variables('subnetNames').DMZSubnetName)]",
    "TRZSubnetRef": "[concat(variables('VnetID'),'/subnets/',variables('subnetNames').TRZSubnetName)]",
    "ids": {
      "adm1NicId": "[resourceId('Microsoft.Network/networkInterfaces',variables('adm1NicName'))]",
      "adm2NicId": "[resourceId('Microsoft.Network/networkInterfaces',variables('adm2NicName'))]"
    },
    "HTTPNAT": "HTTP",
    "derivedIds": {
      "adm1IPConfigID": "[concat(variables('ids').adm1NicId,'/ipConfigurations/ipconfig1')]",
      "adm2IPConfigID": "[concat(variables('ids').adm2NicId,'/ipConfigurations/ipconfig1')]"
    },
    "SQL2012SP2-WS2012R2": "Enterprise",
    "SQL2014-WS2012R2": "Enterprise",
    "SQL2014SP1-WS2012R2": "Enterprise",
    "SQL2016CTP3-WS2012R2": "Evaluation"
  },
  "resources": [
    {
      "name": "AvailabilitySets",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').AvailabilitySetsTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "arrAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.arrAvailabilitySetName]"
          },
          "iisAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.iisAvailabilitySetName]"
          },
          "mmqAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.mmqAvailabilitySetName]"
          },
          "appAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.appAvailabilitySetName]"
          },
          "sqlAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.sqlAvailabilitySetName]"
          },
          "rspAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.rspAvailabilitySetName]"
          },
          "tskAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.tskAvailabilitySetName]"
          },
          "dcwAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.dcwAvailabilitySetName]"
          },
          "admAvailabilitySetName": {
            "value": "[variables('vmSettings').availabilitySets.admAvailabilitySetName]"
          }
        }
      }
    },
    {
      "name": "StorageAccounts",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').StorageAccountsTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "storageAccountNamePrefix": {
            "value": "[variables('storageNamePrefix')]"
          },
          "commonStorageAccountType": {
            "value": "[parameters('commonStorageAccountType')]"
          },
          "sqlStorageAccountType": {
            "value": "[parameters('sqlStorageAccountType')]"
          }
        }
      }
    },
    {
      "name": "VirtualNetwork",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').VirtualNetworkTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "virtualNetworkName": {
            "value": "[variables('virtualNetworkName')]"
          },
          "virtualNetworkAddressRange": {
            "value": "[parameters('virtualNetworkAddressRange')]"
          },
          "subnets": {
            "value": "[variables('subnets')]"
          }
        }
      }
    },
    {
      "name": "PublicIPs",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').PublicIPsTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "PIPArrAddressName": {
            "value": "[variables('PIPAddressNames').PIPArrAddressName]"
          },
          "PIPAdm1AddressName": {
            "value": "[variables('PIPAddressNames').PIPAdm1AddressName]"
          },
          "PIPAdm2AddressName": {
            "value": "[variables('PIPAddressNames').PIPAdm2AddressName]"
          },
          "PIPGWAddressName": {
            "value": "[variables('PIPAddressNames').PIPGWAddressName]"
          }
        }
      }
    },
    {
      "name": "LoadBalancers",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/VirtualNetwork",
        "Microsoft.Resources/deployments/PublicIPs"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').LoadBalancersTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "deploymentAffix": {
            "value": "[parameters('deploymentAffix')]"
          },
          "sqlLBIPAddress": {
            "value": "[parameters('sqlLBIPAddress')]"
          },
          "mmqLBIPAddress": {
            "value": "[parameters('mmqLBIPAddress')]"
          },
          "TRZSubnetRef": {
            "value": "[variables('TRZSubnetRef')]"
          },
          "PIPArrAddress": {
            "value": "[reference('PublicIPs').outputs.PIPArrAddressResourceId.value]"
          },
          "HTTPNAT": {
            "value": "[variables('HTTPNAT')]"
          }
        }
      }
    },
    {
      "name": "NetworkInterfacePDC",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/VirtualNetwork"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').NetworkInterfacePDCTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "adPDCNICIPAddress": {
            "value": "[parameters('adPDCNICIPAddress')]"
          },
          "adPDCNicName": {
            "value": "[variables('adPDCNicName')]"
          },
          "TRZSubnetRef": {
            "value": "[variables('TRZSubnetRef')]"
          }
        }
      }
    },
    {
      "name": "VirtualMachinePDC",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/AvailabilitySets",
        "Microsoft.Resources/deployments/StorageAccounts",
        "Microsoft.Resources/deployments/VirtualNetwork",
        "Microsoft.Resources/deployments/NetworkInterfacePDC"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').VirtualMachineDCTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "location": {
            "value": "[resourceGroup().location]"
          },
          "storageAccountNamePrefix": {
            "value": "[variables('storageNamePrefix')]"
          },
          "vmContainerName": {
            "value": "[variables('vmSettings').vmContainerName]"
          },
          "adminUsername": {
            "value": "[parameters('adminUsername')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "adAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.adAvailabilitySetResourceId.value]"
          },
          "adDCVMName": {
            "value": "[variables('vmSettings').adPDCVMName]"
          },
          "adVMSize": {
            "value": "[parameters('adVMSize')]"
          },
          "adImagePublisher": {
            "value": "[variables('vmSettings').windowsImagePublisher]"
          },
          "adImageOffer": {
            "value": "[variables('vmSettings').windowsImageOffer]"
          },
          "adImageSKU": {
            "value": "[variables('vmSettings').windowsImageSKU]"
          }
        }
      }
    },
    {
      "name": "DSCConfigPDC",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/VirtualMachinePDC"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').DSCConfigPDCTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "adPDCVMName": {
            "value": "[variables('vmSettings').adPDCVMName]"
          },
          "adminUserName": {
            "value": "[parameters('adminUsername')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "domainName": {
            "value": "[parameters('domainName')]"
          },
          "adPDCConfigurationFunction": {
            "value": "[variables('configuration').adPDCConfigurationFunction]"
          },
          "adPDCModulesURL": {
            "value": "[variables('configuration').adPDCModulesURL]"
          }
        }
      }
    },
    {
      "name": "VNetDNSServerWithPDC",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/DSCConfigPDC"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').VNetDNSServerTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "virtualNetworkName": {
            "value": "[variables('virtualNetworkName')]"
          },
          "virtualNetworkAddressRange": {
            "value": "[parameters('virtualNetworkAddressRange')]"
          },
          "subnets": {
            "value": "[variables('subnets')]"
          },
          "dnsServerAddress": {
            "value": [
              "[parameters('adPDCNICIPAddress')]"
            ]
          }
        }
      }
    },
    {
      "name": "NetworkInterfaceBDC",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/DSCConfigPDC",
        "Microsoft.Resources/deployments/VNetDNSServerWithPDC"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').NetworkInterfaceBDCTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "adPDCNICIPAddress": {
            "value": "[parameters('adPDCNICIPAddress')]"
          },
          "adBDCNICIPAddress": {
            "value": "[parameters('adBDCNICIPAddress')]"
          },
          "adBDCNicName": {
            "value": "[variables('adBDCNicName')]"
          },
          "TRZSubnetRef": {
            "value": "[variables('TRZSubnetRef')]"
          },
          "dnsServers": {
            "value": [
              "[parameters('adPDCNICIPAddress')]"
            ]
          }
        }
      }
    },
    {
      "name": "VirtualMachineBDC",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/AvailabilitySets",
        "Microsoft.Resources/deployments/StorageAccounts",
        "Microsoft.Resources/deployments/VirtualNetwork",
        "Microsoft.Resources/deployments/NetworkInterfaceBDC"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').VirtualMachineDCTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "location": {
            "value": "[resourceGroup().location]"
          },
          "storageAccountNamePrefix": {
            "value": "[variables('storageNamePrefix')]"
          },
          "vmContainerName": {
            "value": "[variables('vmSettings').vmContainerName]"
          },
          "adminUsername": {
            "value": "[parameters('adminUsername')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "adAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.adAvailabilitySetResourceId.value]"
          },
          "adDCVMName": {
            "value": "[variables('vmSettings').adBDCVMName]"
          },
          "adVMSize": {
            "value": "[parameters('adVMSize')]"
          },
          "adImagePublisher": {
            "value": "[variables('vmSettings').windowsImagePublisher]"
          },
          "adImageOffer": {
            "value": "[variables('vmSettings').windowsImageOffer]"
          },
          "adImageSKU": {
            "value": "[variables('vmSettings').windowsImageSKU]"
          }
        }
      }
    },
    {
      "name": "DSCConfigBDC",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/VirtualMachineBDC"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').DSCConfigBDCTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "adBDCVMName": {
            "value": "[variables('vmSettings').adBDCVMName]"
          },
          "adminUserName": {
            "value": "[parameters('adminUsername')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "domainName": {
            "value": "[parameters('domainName')]"
          },
          "adBDCConfigurationFunction": {
            "value": "[variables('configuration').adBDCConfigurationFunction]"
          },
          "adBDCModulesURL": {
            "value": "[variables('configuration').adBDCModulesURL]"
          }
        }
      }
    },
    {
      "name": "VNetDNSServerWithBDC",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/DSCConfigBDC"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').VNetDNSServerTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "virtualNetworkName": {
            "value": "[variables('virtualNetworkName')]"
          },
          "virtualNetworkAddressRange": {
            "value": "[parameters('virtualNetworkAddressRange')]"
          },
          "subnets": {
            "value": "[variables('subnets')]"
          },
          "dnsServerAddress": {
            "value": [
              "[parameters('adPDCNICIPAddress')]",
              "[parameters('adBDCNICIPAddress')]"
            ]
          }
        }
      }
    },
    {
      "name": "NetworkInterfaceVMs",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/VirtualNetwork",
        "Microsoft.Resources/deployments/VirtualMachinePDC",
        "Microsoft.Resources/deployments/VirtualMachineBDC",
        "Microsoft.Resources/deployments/VNetDNSServerWithPDC",
        "Microsoft.Resources/deployments/VNetDNSServerWithBDC",
        "Microsoft.Resources/deployments/PublicIPs",
        "Microsoft.Resources/deployments/LoadBalancers"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').NetworkInterfaceVMsTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "DMZSubnetRef": {
            "value": "[variables('DMZSubnetRef')]"
          },
          "TRZSubnetRef": {
            "value": "[variables('TRZSubnetRef')]"
          },
          "arrBEAddressPoolID": {
            "value": "[reference('LoadBalancers').outputs.arrLBBEAddressPoolIDResourceId.value]"
          },
          "arrHTTPNATRuleID": {
            "value": "[reference('LoadBalancers').outputs.arrHTTPNATRuleIDResourceId.value]"
          },
          "sqlBEAddressPoolID": {
            "value": "[reference('LoadBalancers').outputs.sqlLBBEAddressPoolIDResourceId.value]"
          },
          "mmqLBBEAddressPoolID": {
            "value": "[reference('LoadBalancers').outputs.mmqLBBEAddressPoolIDResourceId.value]"
          },
          "arr1NICIPAddress": {
            "value": "[parameters('arr1NICIPAddress')]"
          },
          "arr2NICIPAddress": {
            "value": "[parameters('arr2NICIPAddress')]"
          },
          "iis1NICIPAddress": {
            "value": "[parameters('iis1NICIPAddress')]"
          },
          "iis2NICIPAddress": {
            "value": "[parameters('iis2NICIPAddress')]"
          },
          "mmq1NICIPAddress": {
            "value": "[parameters('mmq1NICIPAddress')]"
          },
          "mmq2NICIPAddress": {
            "value": "[parameters('mmq2NICIPAddress')]"
          },
          "app1NICIPAddress": {
            "value": "[parameters('app1NICIPAddress')]"
          },
          "app2NICIPAddress": {
            "value": "[parameters('app2NICIPAddress')]"
          },
          "sql1NICIPAddress": {
            "value": "[parameters('sql1NICIPAddress')]"
          },
          "sql2NICIPAddress": {
            "value": "[parameters('sql2NICIPAddress')]"
          },
          "sqlwNICIPAddress": {
            "value": "[parameters('sqlwNICIPAddress')]"
          },
          "rsp1NICIPAddress": {
            "value": "[parameters('rsp1NICIPAddress')]"
          },
          "rsp2NICIPAddress": {
            "value": "[parameters('rsp2NICIPAddress')]"
          },
          "tsk1NICIPAddress": {
            "value": "[parameters('tsk1NICIPAddress')]"
          },
          "tsk2NICIPAddress": {
            "value": "[parameters('tsk2NICIPAddress')]"
          },
          "adPDCNICIPAddress": {
            "value": "[parameters('adPDCNICIPAddress')]"
          },
          "adBDCNICIPAddress": {
            "value": "[parameters('adBDCNICIPAddress')]"
          },
          "adm1NICIPAddress": {
            "value": "[parameters('adm1NICIPAddress')]"
          },
          "adm2NICIPAddress": {
            "value": "[parameters('adm2NICIPAddress')]"
          },
          "arr1NicName": {
            "value": "[variables('arr1NicName')]"
          },
          "arr2NicName": {
            "value": "[variables('arr2NicName')]"
          },
          "iis1NicName": {
            "value": "[variables('iis1NicName')]"
          },
          "iis2NicName": {
            "value": "[variables('iis2NicName')]"
          },
          "mmq1NicName": {
            "value": "[variables('mmq1NicName')]"
          },
          "mmq2NicName": {
            "value": "[variables('mmq2NicName')]"
          },
          "app1NicName": {
            "value": "[variables('app1NicName')]"
          },
          "app2NicName": {
            "value": "[variables('app2NicName')]"
          },
          "sql1NicName": {
            "value": "[variables('sql1NicName')]"
          },
          "sql2NicName": {
            "value": "[variables('sql2NicName')]"
          },
          "sqlwNicName": {
            "value": "[variables('sqlwNicName')]"
          },
          "rsp1NicName": {
            "value": "[variables('rsp1NicName')]"
          },
          "rsp2NicName": {
            "value": "[variables('rsp2NicName')]"
          },
          "tsk1NicName": {
            "value": "[variables('tsk1NicName')]"
          },
          "tsk2NicName": {
            "value": "[variables('tsk2NicName')]"
          },
          "adPDCNicName": {
            "value": "[variables('adPDCNicName')]"
          },
          "adBDCNicName": {
            "value": "[variables('adBDCNicName')]"
          },
          "adm1NicName": {
            "value": "[variables('adm1NicName')]"
          },
          "adm2NicName": {
            "value": "[variables('adm2NicName')]"
          },
          "PIPAdm1AddressName": {
            "value": "[variables('PIPAddressNames').PIPAdm1AddressName]"
          },
          "PIPAdm2AddressName": {
            "value": "[variables('PIPAddressNames').PIPAdm2AddressName]"
          },
          "dnsServers": {
            "value": [
              "[parameters('adPDCNICIPAddress')]",
              "[parameters('adBDCNICIPAddress')]"
            ]
          }
        }
      }
    },
    {
      "name": "VirtualMachineVMs",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/AvailabilitySets",
        "Microsoft.Resources/deployments/StorageAccounts",
        "Microsoft.Resources/deployments/NetworkInterfaceVMs",
        "Microsoft.Resources/deployments/VirtualMachinePDC",
        "Microsoft.Resources/deployments/VirtualMachineBDC",
        "Microsoft.Resources/deployments/VNetDNSServerWithPDC",
        "Microsoft.Resources/deployments/VNetDNSServerWithBDC"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').VirtualMachineVMsTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "location": {
            "value": "[resourceGroup().location]"
          },
          "storageAccountNamePrefix": {
            "value": "[variables('storageNamePrefix')]"
          },
          "vmContainerName": {
            "value": "[variables('vmSettings').vmContainerName]"
          },
          "adminUsername": {
            "value": "[parameters('adminUsername')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "arrAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.arrAvailabilitySetResourceId.value]"
          },
          "iisAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.iisAvailabilitySetResourceId.value]"
          },
          "mmqAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.mmqAvailabilitySetResourceId.value]"
          },
          "appAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.appAvailabilitySetResourceId.value]"
          },
          "sqlAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.sqlAvailabilitySetResourceId.value]"
          },
          "rspAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.rspAvailabilitySetResourceId.value]"
          },
          "tskAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.tskAvailabilitySetResourceId.value]"
          },
          "admAvailabilitySetRef": {
            "value": "[reference('AvailabilitySets').outputs.admAvailabilitySetResourceId.value]"
          },
          "arrVMName": {
            "value": "[variables('vmSettings').arrVMName]"
          },
          "iisVMName": {
            "value": "[variables('vmSettings').iisVMName]"
          },
          "mmqVMName": {
            "value": "[variables('vmSettings').mmqVMName]"
          },
          "appVMName": {
            "value": "[variables('vmSettings').appVMName]"
          },
          "sqlVMName": {
            "value": "[variables('vmSettings').sqlVMName]"
          },
          "sqlwVMName": {
            "value": "[variables('vmSettings').sqlwVMName]"
          },
          "rspVMName": {
            "value": "[variables('vmSettings').rspVMName]"
          },
          "tskVMName": {
            "value": "[variables('vmSettings').tskVMName]"
          },
          "admVMName": {
            "value": "[variables('vmSettings').admVMName]"
          },
          "sqlVMSize": {
            "value": "[parameters('sqlVMSize')]"
          },
          "witnessVMSize": {
            "value": "[parameters('witnessVMSize')]"
          },
          "commonVMSize": {
            "value": "[parameters('commonVMSize')]"
          },
          "commonImagePublisher": {
            "value": "[variables('vmSettings').windowsImagePublisher]"
          },
          "commonImageOffer": {
            "value": "[variables('vmSettings').windowsImageOffer]"
          },
          "commonImageSKU": {
            "value": "[variables('vmSettings').windowsImageSKU]"
          },
          "fswImagePublisher": {
            "value": "[variables('vmSettings').windowsImagePublisher]"
          },
          "fswImageOffer": {
            "value": "[variables('vmSettings').windowsImageOffer]"
          },
          "fswImageSKU": {
            "value": "[variables('vmSettings').windowsImageSKU]"
          },
          "sqlImagePublisher": {
            "value": "[variables('vmSettings').sqlImagePublisher]"
          },
          "sqlImageOffer": {
            "value": "[variables('vmSettings').sqlImageOffer]"
          },
          "sqlImageSKU": {
            "value": "[variables(parameters('sqlServerVersion'))]"
          }
        }
      }
    },
    {
      "name": "DSCConfigSQLAlwaysOnPrepare",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/VirtualMachineVMs",
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').DSCConfigSQLAlwaysOnPrepareTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "sqlVMName": {
            "value": "[variables('vmSettings').sqlVMName]"
          },
          "adminUsername": {
            "value": "[parameters('adminUsername')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "domainName": {
            "value": "[parameters('domainName')]"
          },
          "sqlAOPrepareModulesURL": {
            "value": "[variables('configuration').sqlAOPrepareModulesURL]"
          },
          "sqlAOPrepareConfigurationFunction": {
            "value": "[variables('configuration').sqlAOPrepareConfigurationFunction]"
          },
          "sqlAOEPName": {
            "value": "[variables('sqlAOEPName')]"
          },
          "sqlServerServiceAccountUserName": {
            "value": "[parameters('sqlServerServiceAccountUserName')]"
          },
          "sqlServerServiceAccountPassword": {
            "value": "[parameters('sqlServerServiceAccountPassword')]"
          },
          "createClusterModulesURL": {
            "value": "[variables('configuration').createClusterModulesURL]"
          },
          "createClusterConfigurationFunction": {
            "value": "[variables('configuration').createClusterConfigurationFunction]"
          },
          "clusterName": {
            "value": "[variables('clusterName')]"
          },
          "sharePath": {
            "value": "[variables('sharePath')]"
          },
          "sqlAOAGName": {
            "value": "[variables('sqlAOAGName')]"
          },
          "sqlAOListenerName": {
            "value": "[variables('sqlAOListenerName')]"
          },
          "sqlAOListenerPort": {
            "value": "[variables('sqlAOListenerPort')]"
          },
          "sqlLBName": {
            "value": "[variables('sqlAOLBName')]"
          },
          "sqlLBIPAddress": {
            "value": "[parameters('sqlLBIPAddress')]"
          },
          "adPDCVMName": {
            "value": "[variables('vmSettings').adPDCVMName]"
          },
          "sqlwVMName": {
            "value": "[variables('vmSettings').sqlwVMName]"
          },
          "fswModulesURL": {
            "value": "[variables('configuration').fswModulesURL]"
          },
          "fswConfigurationFunction": {
            "value": "[variables('configuration').fswConfigurationFunction]"
          },
          "autoPatchingDay": {
            "value": "[parameters('autoPatchingDay')]"
          },
          "autoPatchingStartHour": {
            "value": "[parameters('autoPatchingStartHour')]"
          },
          "numberOfDisks": {
            "value": "[parameters('numberOfSqlVMDisks')]"
          },
          "workloadType": {
            "value": "[parameters('workloadType')]"
          }
        }
      }
    },
    {
      "name": "DSCConfigSQLAlwaysOnFinalize",
      "type": "Microsoft.Resources/deployments",
      "apiVersion": "[variables('apiVersion')]",
      "dependsOn": [
        "Microsoft.Resources/deployments/VirtualMachineVMs",
        "Microsoft.Resources/deployments/DSCConfigSQLAlwaysOnPrepare"
      ],
      "properties": {
        "mode": "Incremental",
        "templateLink": {
          "uri": "[variables('configuration').DSCConfigSQLAlwaysOnFinalizeTemplateURL]",
          "contentVersion": "1.0.0.0"
        },
        "parameters": {
          "apiVersion": {
            "value": "2015-06-15"
          },
          "sqlVMName": {
            "value": "[variables('vmSettings').sqlVMName]"
          },
          "adminUsername": {
            "value": "[parameters('adminUsername')]"
          },
          "adminPassword": {
            "value": "[parameters('adminPassword')]"
          },
          "domainName": {
            "value": "[parameters('domainName')]"
          },
          "sqlAOPrepareModulesURL": {
            "value": "[variables('configuration').sqlAOPrepareModulesURL]"
          },
          "sqlAOPrepareConfigurationFunction": {
            "value": "[variables('configuration').sqlAOPrepareConfigurationFunction]"
          },
          "sqlAOEPName": {
            "value": "[variables('sqlAOEPName')]"
          },
          "sqlServerServiceAccountUserName": {
            "value": "[parameters('sqlServerServiceAccountUserName')]"
          },
          "sqlServerServiceAccountPassword": {
            "value": "[parameters('sqlServerServiceAccountPassword')]"
          },
          "createClusterModulesURL": {
            "value": "[variables('configuration').createClusterModulesURL]"
          },
          "createClusterConfigurationFunction": {
            "value": "[variables('configuration').createClusterConfigurationFunction]"
          },
          "clusterName": {
            "value": "[variables('clusterName')]"
          },
          "sharePath": {
            "value": "[variables('sharePath')]"
          },
          "sqlAOAGName": {
            "value": "[variables('sqlAOAGName')]"
          },
          "sqlAOListenerName": {
            "value": "[variables('sqlAOListenerName')]"
          },
          "sqlAOListenerPort": {
            "value": "[variables('sqlAOListenerPort')]"
          },
          "sqlLBName": {
            "value": "[variables('sqlAOLBName')]"
          },
          "sqlLBIPAddress": {
            "value": "[parameters('sqlLBIPAddress')]"
          },
          "adPDCVMName": {
            "value": "[variables('vmSettings').adPDCVMName]"
          },
          "sqlwVMName": {
            "value": "[variables('vmSettings').sqlwVMName]"
          },
          "fswModulesURL": {
            "value": "[variables('configuration').fswModulesURL]"
          },
          "fswConfigurationFunction": {
            "value": "[variables('configuration').fswConfigurationFunction]"
          },
          "numberOfDisks": {
            "value": "[parameters('numberOfSqlVMDisks')]"
          },
          "workloadType": {
            "value": "[parameters('workloadType')]"
          }
        }
      }
    }
  ],
  "outputs": {
    "result": {
      "value": "Cegid Retail Platform Provisioning achieved",
      "type": "string"
    }
  }}